<!DOCTYPE html>
<html lang="${request.locale_name}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="pyramid web application">
    <meta name="author" content="srgg6701">
    <link rel="shortcut icon" href="${request.static_url('testpyramid:static/pyramid-16x16.png')}">

    <title>Starter Template for The Pyramid Web Framework</title>

    <!-- Custom styles for this template -->
    <link href="${request.static_url('testpyramid:static/metro/css/metro-bootstrap.css')}" rel="stylesheet">
    <link href="${request.static_url('testpyramid:static/metro/css/metro-bootstrap-responsive.css')}" rel="stylesheet">
    <link href="${request.static_url('testpyramid:static/styles.less')}" rel="stylesheet/less" type="text/css">
    <script src="${request.static_url('testpyramid:static/less.js')}" type="text/javascript"></script>
    <script src="${request.static_url('testpyramid:static/metro/jquery.min.js')}"></script>
    <script src="${request.static_url('testpyramid:static/metro/jquery.widget.min.js')}"></script>
    <script src="${request.static_url('testpyramid:static/metro/metro.min.js')}"></script>
    <script src="${request.static_url('testpyramid:static/js/controller.js')}"></script>
    <script src="${request.static_url('testpyramid:static/libs/angular.min.js')}"></script>
  </head>
    <body class="metro" ng-controller="mainController" ng-app="">
        <main ng-init="section.state='home'">
            <nav class="navigation-bar light clearfix">
                <nav class="navigation-bar-content place-right wide">
                    <menu Ñlass="clearfix">
                        <li class="element"><a href="javascript:void(0)" ng-click="section.state='home'">Home</a></li>
                        <li class="element-divider wide"></li>
                        <li class="element"><a href="javascript:void(0)" ng-click="goServers()">Manage Servers</a></li>
                    </menu>
                </nav>
            </nav>
            <section ng-switch="section.state">
                <div ng-switch-when="home">
                    <div ng-include='"/static/tmpl/default.html"'></div>
                </div>
                <div ng-switch-when="task">
                    <h3>Servers</h3>
                    <div id="tableWrapper">
                        <table id="tblServers">
                        <tr>
                            <th>#</th>
                            <th>Address</th>
                            <th>Port</th>
                            <th>SSL</th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr ng-repeat="(sIndex, serv) in servdata"  ng-click="handleServer($event)">
                            <td data-id="{{serv.id}}">{{sIndex+1}}</td>
                            <td>{{serv.address}}</td>
                            <td>{{serv.port}}</td>
                            <td>{{serv.ssl}}</td>
                            <td>&nbsp;</td>
                            <td title="Remove server">&nbsp;</td>
                        </tr>
                    </table>
                        <button data-group="first" class="place-right" onclick="addServer(this)">Add server</button>
                        <button data-group="second" class="place-left hidden" onclick="cancelServer(this)">cancel</button>
                        <button data-group="second" class="place-right hidden" onclick="saveServer(this)">Save server</button>
                    </div>
                </div>
            </section>
        </main>
        <script src="${request.static_url('testpyramid:static/js/actions.js')}"></script>
    </body>
</html>